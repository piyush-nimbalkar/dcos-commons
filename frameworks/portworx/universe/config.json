{
  "type": "object",
    "properties": {
      "service": {
        "type": "object",
        "description": "DC/OS service configuration properties",
        "properties": {
          "name": {
            "title": "Service name",
            "description": "The name of the service instance",
            "type": "string",
            "default": "portworx"
          },
          "principal": {
            "title": "Custom principal (optional)",
            "description": "The principal for the service instance, or empty to use the default.",
            "type": "string",
            "default": ""
          },
          "secret_name": {
            "title": "Credential secret name (optional)",
            "description": "Name of the Secret Store credentials to use for DC/OS service authentication. This should be left empty unless service authentication is needed.",
            "type": "string",
            "default": ""
          }
        },
        "required":[
          "name"
        ]
      },
      "node": {
        "description": "Portworx Node properties",
        "type": "object",
        "properties": {
          "portworx_cluster": {
            "title": "Portworx Cluster Name",
            "type": "string",
            "default":"portworx-dcos"
          },
          "kvdb_servers": {
            "title":"KVDB servers",
            "description": "Comma seperated IP:PORT entries for the key value database (etcd or consul). If the etcd server is started using the pacakge this will be ignored",
            "type": "string",
            "default": ""
          },
          "count": {
            "title": "Node count",
            "description": "Number of Portworx nodes to run",
            "type": "integer",
            "default":3
          },
          "placement_constraint": {
            "title": "Placement constraint",
            "description": "Marathon-style placement constraint for nodes. Example: 'hostname:UNIQUE'",
            "type": "string",
            "default": "hostname:UNIQUE"
          },
          "cpus": {
            "title": "CPU count",
            "description": "CPU requirements",
            "type": "number",
            "default":1
          },
          "mem": {
            "title": "Memory size (MB)",
            "description": "Mem requirements (in MB)",
            "type": "integer",
            "default":4096
          }
        },
        "required":[
          "count",
          "cpus",
          "mem",
          "portworx_cluster"

        ]
      },
      "etcd": {
        "description": "etcd properties",
        "type": "object",
        "properties": {
          "Start": {
            "title": "Start etcd",
            "description": "Start the etcd service. Required for Portworx if you don't have one already running. If disabled, please enter the external etcd server IP on the service tab.",
            "type": "boolean",
            "default":true
          },
          "count": {
            "title": "Node count",
            "description": "Number of etcd nodes to run",
            "type": "integer",
            "default":3
          },
          "placement_constraint": {
            "title": "Placement constraint",
            "description": "Marathon-style placement constraint for nodes. Example: 'hostname:UNIQUE'",
            "type": "string",
            "default": "hostname:UNIQUE"
          },
          "cpus": {
            "title": "CPU count",
            "description": "CPU requirements",
            "type": "number",
            "default":0.3
          },
          "mem": {
            "title": "Memory size (MB)",
            "description": "Mem requirements (in MB)",
            "type": "integer",
            "default":1024
          }
        },
        "required":[
          "count",
          "cpus",
          "mem"
        ]
      },
      "influxdb": {
        "description": "InfluxDB properties. This service is required to store Portworx cluster statistics by the Lightouse service",
        "type": "object",
        "properties": {
          "placement_constraint": {
            "title": "Placement constraint",
            "description": "Marathon-style placement constraint for nodes. Example: 'hostname:UNIQUE'",
            "type": "string",
            "default": "hostname:UNIQUE"
          },
          "cpus": {
            "title": "CPU count",
            "description": "CPU requirements",
            "type": "number",
            "default":1
          },
          "mem": {
            "title": "Memory size (MB)",
            "description": "Mem requirements (in MB)",
            "type": "integer",
            "default": 1024
          }
        },
        "required":[
          "cpus",
          "mem"
        ]
      },
      "lighthouse": {
        "description": "Lighthouse exposes the web UI for Portworx. Start this if you don't want to connect to the central Portworx Lighthouse",
        "type": "object",
        "properties": {
          "Start": {
            "title": "Start Lighthouse",
            "description": "Start the Lighthouse service. If this is disabled the influxdb service will also be disabled.",
            "type": "boolean",
            "default":true
          },
          "placement_constraint": {
            "title": "Placement constraint",
            "description": "Marathon-style placement constraint for nodes. Example: 'hostname:UNIQUE'",
            "type": "string",
            "default": "hostname:UNIQUE"
          },
          "cpus": {
            "title": "CPU count",
            "description": "CPU requirements",
            "type": "number",
            "default":1
          },
          "mem": {
            "title": "Memory size (MB)",
            "description": "Mem requirements (in MB)",
            "type": "integer",
            "default": 1024
          }
        },
        "required":[
          "cpus",
          "mem"
        ]
      }
   }
}
